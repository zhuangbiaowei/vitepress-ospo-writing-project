import{_ as C,C as l,c as i,o as A,j as B,b as t,a2 as o,a as e,w as a,G as s,a3 as n}from"./chunks/framework.C73R9DD6.js";const c=JSON.parse('{"title":"Gemini CLI 系统架构图","description":"","frontmatter":{},"headers":[],"relativePath":"articles/gemini-cli-system-architecture.md","filePath":"articles/gemini-cli-system-architecture.md","lastUpdated":1752127317000}'),I={name:"articles/gemini-cli-system-architecture.md"};function D(T,E,_,L,F,O){const r=l("Mermaid");return A(),i("div",null,[E[1]||(E[1]=B("h1",{id:"gemini-cli-系统架构图",tabindex:"-1"},[e("Gemini CLI 系统架构图 "),B("a",{class:"header-anchor",href:"#gemini-cli-系统架构图","aria-label":'Permalink to "Gemini CLI 系统架构图"'},"​")],-1)),(A(),t(n,null,{default:a(()=>[s(r,{id:"mermaid-3",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22%E7%94%A8%E6%88%B7%E5%B1%82%20(User%20Layer)%22%0A%20%20%20%20%20%20%20%20U%5B%E7%94%A8%E6%88%B7%E7%BB%88%E7%AB%AF%20Terminal%5D%0A%20%20%20%20%20%20%20%20CMD%5B%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BE%93%E5%85%A5%20CLI%20Commands%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22CLI%20%E5%8C%85%20(packages%2Fcli)%22%0A%20%20%20%20%20%20%20%20subgraph%20%22%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%B1%82%22%0A%20%20%20%20%20%20%20%20%20%20%20%20APP%5BApp.tsx%20-%20%E4%B8%BB%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20UI%5BUI%20Components%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20THEME%5B%E4%B8%BB%E9%A2%98%E7%AE%A1%E7%90%86%20Theme%20Manager%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20INPUT%5B%E8%BE%93%E5%85%A5%E5%A4%84%E7%90%86%20Input%20Handler%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%22%0A%20%20%20%20%20%20%20%20%20%20%20%20CONFIG%5B%E9%85%8D%E7%BD%AE%E5%8A%A0%E8%BD%BD%20Config%20Loader%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20SETTINGS%5B%E8%AE%BE%E7%BD%AE%E7%AE%A1%E7%90%86%20Settings%20Manager%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20AUTH_CLI%5B%E8%AE%A4%E8%AF%81%E9%85%8D%E7%BD%AE%20Auth%20Config%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E5%90%AF%E5%8A%A8%E4%B8%8E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%22%0A%20%20%20%20%20%20%20%20%20%20%20%20MAIN%5B%E4%B8%BB%E5%85%A5%E5%8F%A3%20main()%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20GEMINI_TSX%5Bgemini.tsx%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20LIFECYCLE%5B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Core%20%E5%8C%85%20(packages%2Fcore)%22%0A%20%20%20%20%20%20%20%20subgraph%20%22%E6%A0%B8%E5%BF%83%E5%BC%95%E6%93%8E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20CLIENT%5BGemini%20Client%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20CHAT%5BGeminiChat%20%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20CONTENT_GEN%5B%E5%86%85%E5%AE%B9%E7%94%9F%E6%88%90%E5%99%A8%20ContentGenerator%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20REQUEST%5B%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%20GeminiRequest%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F%20(Tools)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20TOOL_REG%5B%E5%B7%A5%E5%85%B7%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%20ToolRegistry%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20subgraph%20%22%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20READ_FILE%5B%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%20ReadFileTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WRITE_FILE%5B%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%20WriteFileTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EDIT_TOOL%5B%E7%BC%96%E8%BE%91%E5%B7%A5%E5%85%B7%20EditTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20LS_TOOL%5B%E7%9B%AE%E5%BD%95%E5%88%97%E8%A1%A8%20LSTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20GLOB_TOOL%5B%E6%96%87%E4%BB%B6%E5%8C%B9%E9%85%8D%20GlobTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20subgraph%20%22%E6%90%9C%E7%B4%A2%E4%B8%8E%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20GREP_TOOL%5B%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2%20GrepTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEB_SEARCH%5B%E7%BD%91%E7%BB%9C%E6%90%9C%E7%B4%A2%20WebSearchTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEB_FETCH%5B%E7%BD%91%E9%A1%B5%E8%8E%B7%E5%8F%96%20WebFetchTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20subgraph%20%22%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20SHELL_TOOL%5BShell%E5%91%BD%E4%BB%A4%20ShellTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MEMORY_TOOL%5B%E8%AE%B0%E5%BF%86%E5%B7%A5%E5%85%B7%20MemoryTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20subgraph%20%22MCP%20%E9%9B%86%E6%88%90%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MCP_CLIENT%5BMCP%E5%AE%A2%E6%88%B7%E7%AB%AF%20MCPClient%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MCP_TOOL%5BMCP%E5%B7%A5%E5%85%B7%20MCPTool%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E6%9C%8D%E5%8A%A1%E5%B1%82%22%0A%20%20%20%20%20%20%20%20%20%20%20%20FILE_DISCOVERY%5B%E6%96%87%E4%BB%B6%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20GIT_SERVICE%5BGit%20%E6%9C%8D%E5%8A%A1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20MEMORY_SERVICE%5B%E8%AE%B0%E5%BF%86%E6%9C%8D%E5%8A%A1%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20PROMPTS%5B%E7%B3%BB%E7%BB%9F%E6%8F%90%E7%A4%BA%E8%AF%8D%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20CONTEXT_MGR%5B%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20TURN_MGR%5B%E5%AF%B9%E8%AF%9D%E8%BD%AE%E6%AC%A1%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E8%AE%A4%E8%AF%81%E4%B8%8E%E5%AE%89%E5%85%A8%22%0A%20%20%20%20%20%20%20%20%20%20%20%20AUTH_CORE%5B%E8%AE%A4%E8%AF%81%E6%A0%B8%E5%BF%83%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20OAUTH%5BOAuth2%20%E5%A4%84%E7%90%86%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20API_KEY%5BAPI%E5%AF%86%E9%92%A5%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20VERTEX_AI%5BVertex%20AI%20%E9%9B%86%E6%88%90%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1%20(External%20Services)%22%0A%20%20%20%20%20%20%20%20subgraph%20%22Google%20AI%20Services%22%0A%20%20%20%20%20%20%20%20%20%20%20%20GEMINI_API%5BGemini%20API%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20VERTEX_API%5BVertex%20AI%20API%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20SEARCH_API%5BGoogle%20Search%20API%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22MCP%20%E6%9C%8D%E5%8A%A1%E5%99%A8%22%0A%20%20%20%20%20%20%20%20%20%20%20%20IMAGEN%5BImagen%20MCP%20Server%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20VEO%5BVeo%20MCP%20Server%5D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20LYRIA%5BLyria%20MCP%20Server%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20CUSTOM_MCP%5B%E8%87%AA%E5%AE%9A%E4%B9%89%20MCP%20%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%22%0A%20%20%20%20%20%20%20%20%20%20%20%20FILE_SYS%5B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20SHELL%5B%E7%B3%BB%E7%BB%9FShell%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20GIT_REPO%5BGit%20%E4%BB%93%E5%BA%93%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%95%B0%E6%8D%AE%22%0A%20%20%20%20%20%20%20%20ENV_CONFIG%5B%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%20.env%5D%0A%20%20%20%20%20%20%20%20GEMINI_CONFIG%5B.gemini%2F%20%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95%5D%0A%20%20%20%20%20%20%20%20MEMORY_FILES%5B%E8%AE%B0%E5%BF%86%E6%96%87%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20HISTORY%5B%E4%BC%9A%E8%AF%9D%E5%8E%86%E5%8F%B2%5D%0A%20%20%20%20end%0A%0A%20%20%20%20%25%25%20%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E6%B5%81%0A%20%20%20%20U%20--%3E%20CMD%0A%20%20%20%20CMD%20--%3E%20APP%0A%20%20%20%20APP%20--%3E%20UI%0A%20%20%20%20UI%20--%3E%20INPUT%0A%20%20%20%20%0A%20%20%20%20%25%25%20CLI%20%E5%88%B0%20Core%20%E7%9A%84%E9%80%9A%E4%BF%A1%0A%20%20%20%20APP%20--%3E%20CLIENT%0A%20%20%20%20CONFIG%20--%3E%20AUTH_CORE%0A%20%20%20%20SETTINGS%20--%3E%20AUTH_CORE%0A%20%20%20%20%0A%20%20%20%20%25%25%20Core%20%E5%86%85%E9%83%A8%E6%B5%81%E7%A8%8B%0A%20%20%20%20CLIENT%20--%3E%20CHAT%0A%20%20%20%20CHAT%20--%3E%20CONTENT_GEN%0A%20%20%20%20CONTENT_GEN%20--%3E%20REQUEST%0A%20%20%20%20REQUEST%20--%3E%20GEMINI_API%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F%E6%B5%81%E7%A8%8B%0A%20%20%20%20CHAT%20--%3E%20TOOL_REG%0A%20%20%20%20TOOL_REG%20--%3E%20READ_FILE%0A%20%20%20%20TOOL_REG%20--%3E%20WRITE_FILE%0A%20%20%20%20TOOL_REG%20--%3E%20EDIT_TOOL%0A%20%20%20%20TOOL_REG%20--%3E%20SHELL_TOOL%0A%20%20%20%20TOOL_REG%20--%3E%20WEB_SEARCH%0A%20%20%20%20TOOL_REG%20--%3E%20MCP_CLIENT%0A%20%20%20%20%0A%20%20%20%20%25%25%20MCP%20%E9%9B%86%E6%88%90%0A%20%20%20%20MCP_CLIENT%20--%3E%20IMAGEN%0A%20%20%20%20MCP_CLIENT%20--%3E%20VEO%0A%20%20%20%20MCP_CLIENT%20--%3E%20LYRIA%0A%20%20%20%20MCP_CLIENT%20--%3E%20CUSTOM_MCP%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1%E4%BA%A4%E4%BA%92%0A%20%20%20%20WEB_SEARCH%20--%3E%20SEARCH_API%0A%20%20%20%20AUTH_CORE%20--%3E%20VERTEX_API%0A%20%20%20%20OAUTH%20--%3E%20GEMINI_API%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%0A%20%20%20%20READ_FILE%20--%3E%20FILE_SYS%0A%20%20%20%20WRITE_FILE%20--%3E%20FILE_SYS%0A%20%20%20%20SHELL_TOOL%20--%3E%20SHELL%0A%20%20%20%20GIT_SERVICE%20--%3E%20GIT_REPO%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E6%B5%81%0A%20%20%20%20ENV_CONFIG%20--%3E%20CONFIG%0A%20%20%20%20GEMINI_CONFIG%20--%3E%20SETTINGS%0A%20%20%20%20MEMORY_FILES%20--%3E%20MEMORY_SERVICE%0A%20%20%20%20HISTORY%20--%3E%20CHAT%0A%0A%20%20%20%20%25%25%20%E6%A0%B7%E5%BC%8F%E5%AE%9A%E4%B9%89%0A%20%20%20%20classDef%20userLayer%20fill%3A%23e1f5fe%0A%20%20%20%20classDef%20cliLayer%20fill%3A%23f3e5f5%0A%20%20%20%20classDef%20coreLayer%20fill%3A%23e8f5e8%0A%20%20%20%20classDef%20externalLayer%20fill%3A%23fff3e0%0A%20%20%20%20classDef%20configLayer%20fill%3A%23fce4ec%0A%20%20%20%20%0A%20%20%20%20class%20U%2CCMD%20userLayer%0A%20%20%20%20class%20APP%2CUI%2CCONFIG%2CSETTINGS%2CAUTH_CLI%2CMAIN%20cliLayer%0A%20%20%20%20class%20CLIENT%2CCHAT%2CTOOL_REG%2CAUTH_CORE%20coreLayer%0A%20%20%20%20class%20GEMINI_API%2CVERTEX_API%2CSEARCH_API%2CFILE_SYS%2CSHELL%20externalLayer%0A%20%20%20%20class%20ENV_CONFIG%2CGEMINI_CONFIG%2CMEMORY_FILES%2CHISTORY%20configLayer%0A"})]),fallback:a(()=>E[0]||(E[0]=[e(" Loading... ")])),_:1})),E[2]||(E[2]=o("",9))])}const d=C(I,[["render",D]]);export{c as __pageData,d as default};
