import{_ as B,C as i,c as s,o as r,j as E,b as t,ah as C,a as A,w as a,G as l,ai as n}from"./chunks/framework.CDWSO0OB.js";const g=JSON.parse('{"title":"Gemini CLI 数据流程图","description":"","frontmatter":{},"headers":[],"relativePath":"articles/gemini-cli-data-flow-diagram.md","filePath":"articles/gemini-cli-data-flow-diagram.md","lastUpdated":1752131959000}'),D={name:"articles/gemini-cli-data-flow-diagram.md"};function d(m,e,u,p,c,P){const o=i("Mermaid");return r(),s("div",null,[e[5]||(e[5]=E("h1",{id:"gemini-cli-数据流程图",tabindex:"-1"},[A("Gemini CLI 数据流程图 "),E("a",{class:"header-anchor",href:"#gemini-cli-数据流程图","aria-label":'Permalink to "Gemini CLI 数据流程图"'},"​")],-1)),e[6]||(e[6]=E("h2",{id:"_1-整体数据流架构-overall-data-flow-architecture",tabindex:"-1"},[A("1. 整体数据流架构 (Overall Data Flow Architecture) "),E("a",{class:"header-anchor",href:"#_1-整体数据流架构-overall-data-flow-architecture","aria-label":'Permalink to "1. 整体数据流架构 (Overall Data Flow Architecture)"'},"​")],-1)),(r(),t(n,null,{default:a(()=>[l(o,{id:"mermaid-6",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20subgraph%20%22Input_Layer%20%5B%E8%BE%93%E5%85%A5%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20UserInput%5BUser%20Input%20%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%5D%0A%20%20%20%20%20%20%20%20SlashCmd%5BSlash%20Commands%20%E6%96%9C%E6%9D%A0%E5%91%BD%E4%BB%A4%5D%0A%20%20%20%20%20%20%20%20FileUpload%5BFile%20Upload%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Preprocessing_Layer%20%5B%E9%A2%84%E5%A4%84%E7%90%86%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20InputParser%5BInput%20Parser%20%E8%BE%93%E5%85%A5%E8%A7%A3%E6%9E%90%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20CmdProcessor%5BCommand%20Processor%20%E5%91%BD%E4%BB%A4%E5%A4%84%E7%90%86%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20ContextBuilder%5BContext%20Builder%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%9E%84%E5%BB%BA%E5%99%A8%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Core_Processing_Layer%20%5B%E6%A0%B8%E5%BF%83%E5%A4%84%E7%90%86%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20subgraph%20%22Session_Management%20%5B%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20History%5BHistory%20%E5%AF%B9%E8%AF%9D%E5%8E%86%E5%8F%B2%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Memory%5BMemory%20System%20%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20Context%5BContext%20Management%20%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22AI_Processing%20%5BAI%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20PromptEngine%5BPrompt%20Engine%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%BC%95%E6%93%8E%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20GeminiAPI%5BGemini%20API%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ResponseParser%5BResponse%20Parser%20%E5%93%8D%E5%BA%94%E8%A7%A3%E6%9E%90%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20subgraph%20%22Tool_System%20%5B%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F%5D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20ToolRegistry%5BTool%20Registry%20%E5%B7%A5%E5%85%B7%E6%B3%A8%E5%86%8C%E8%A1%A8%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ToolExecutor%5BTool%20Executor%20%E5%B7%A5%E5%85%B7%E6%89%A7%E8%A1%8C%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ToolResult%5BTool%20Result%20%E5%B7%A5%E5%85%B7%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22External_Integration_Layer%20%5B%E5%A4%96%E9%83%A8%E9%9B%86%E6%88%90%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20FileRead%5BFile%20Read%20%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%5D%0A%20%20%20%20%20%20%20%20FileWrite%5BFile%20Write%20%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%5D%0A%20%20%20%20%20%20%20%20FileEdit%5BFile%20Edit%20%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91%5D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20WebSearch%5BWeb%20Search%20%E7%BD%91%E7%BB%9C%E6%90%9C%E7%B4%A2%5D%0A%20%20%20%20%20%20%20%20WebFetch%5BWeb%20Fetch%20%E7%BD%91%E9%A1%B5%E6%8A%93%E5%8F%96%5D%0A%20%20%20%20%20%20%20%20APICall%5BAPI%20Call%20API%E8%B0%83%E7%94%A8%5D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20ShellExec%5BShell%20Execute%20Shell%E6%89%A7%E8%A1%8C%5D%0A%20%20%20%20%20%20%20%20GitOps%5BGit%20Operations%20Git%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20%20%20%20%20ProcessMgmt%5BProcess%20Management%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20MCPClient%5BMCP%20Client%20MCP%E5%AE%A2%E6%88%B7%E7%AB%AF%5D%0A%20%20%20%20%20%20%20%20ImageGen%5BImage%20Generation%20%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90%5D%0A%20%20%20%20%20%20%20%20VideoGen%5BVideo%20Generation%20%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90%5D%0A%20%20%20%20%20%20%20%20AudioGen%5BAudio%20Generation%20%E9%9F%B3%E9%A2%91%E7%94%9F%E6%88%90%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Output_Layer%20%5B%E8%BE%93%E5%87%BA%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20ResponseFormatter%5BResponse%20Formatter%20%E5%93%8D%E5%BA%94%E6%A0%BC%E5%BC%8F%E5%8C%96%5D%0A%20%20%20%20%20%20%20%20StreamRenderer%5BStream%20Renderer%20%E6%B5%81%E5%BC%8F%E6%B8%B2%E6%9F%93%5D%0A%20%20%20%20%20%20%20%20UIDisplay%5BUI%20Display%20UI%E6%98%BE%E7%A4%BA%5D%0A%20%20%20%20%20%20%20%20FileOutput%5BFile%20Output%20%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Storage_Layer%20%5B%E5%AD%98%E5%82%A8%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20ConfigFiles%5BConfig%20Files%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20CacheData%5BCache%20Data%20%E7%BC%93%E5%AD%98%E6%95%B0%E6%8D%AE%5D%0A%20%20%20%20%20%20%20%20UserSettings%5BUser%20Settings%20%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%5D%0A%20%20%20%20%20%20%20%20SessionData%5BSession%20Data%20%E4%BC%9A%E8%AF%9D%E6%95%B0%E6%8D%AE%5D%0A%20%20%20%20end%0A%0A%20%20%20%20%25%25%20Data%20Flow%20Connections%0A%20%20%20%20UserInput%20--%3E%20InputParser%0A%20%20%20%20SlashCmd%20--%3E%20CmdProcessor%0A%20%20%20%20FileUpload%20--%3E%20InputParser%0A%20%20%20%20%0A%20%20%20%20InputParser%20--%3E%20ContextBuilder%0A%20%20%20%20CmdProcessor%20--%3E%20Context%0A%20%20%20%20ContextBuilder%20--%3E%20Context%0A%20%20%20%20%0A%20%20%20%20Context%20--%3E%20History%0A%20%20%20%20Context%20--%3E%20Memory%0A%20%20%20%20Context%20--%3E%20PromptEngine%0A%20%20%20%20%0A%20%20%20%20PromptEngine%20--%3E%20GeminiAPI%0A%20%20%20%20GeminiAPI%20--%3E%20ResponseParser%0A%20%20%20%20ResponseParser%20--%3E%20ToolRegistry%0A%20%20%20%20%0A%20%20%20%20ToolRegistry%20--%3E%20ToolExecutor%0A%20%20%20%20ToolExecutor%20--%3E%20FileRead%0A%20%20%20%20ToolExecutor%20--%3E%20FileWrite%0A%20%20%20%20ToolExecutor%20--%3E%20WebSearch%0A%20%20%20%20ToolExecutor%20--%3E%20ShellExec%0A%20%20%20%20ToolExecutor%20--%3E%20MCPClient%0A%20%20%20%20%0A%20%20%20%20FileRead%20--%3E%20ToolResult%0A%20%20%20%20FileWrite%20--%3E%20ToolResult%0A%20%20%20%20WebSearch%20--%3E%20ToolResult%0A%20%20%20%20ShellExec%20--%3E%20ToolResult%0A%20%20%20%20MCPClient%20--%3E%20ImageGen%0A%20%20%20%20ImageGen%20--%3E%20ToolResult%0A%20%20%20%20%0A%20%20%20%20ToolResult%20--%3E%20ResponseParser%0A%20%20%20%20ResponseParser%20--%3E%20ResponseFormatter%0A%20%20%20%20ResponseFormatter%20--%3E%20StreamRenderer%0A%20%20%20%20StreamRenderer%20--%3E%20UIDisplay%0A%20%20%20%20%0A%20%20%20%20%25%25%20Storage%20Connections%0A%20%20%20%20Context%20-.-%3E%20SessionData%0A%20%20%20%20Memory%20-.-%3E%20CacheData%0A%20%20%20%20UserInput%20-.-%3E%20UserSettings%0A%20%20%20%20History%20-.-%3E%20SessionData%0A%20%20%20%20%0A%20%20%20%20%25%25%20Styling%0A%20%20%20%20classDef%20inputLayer%20fill%3A%23e1f5fe%2Cstroke%3A%2301579b%0A%20%20%20%20classDef%20processingLayer%20fill%3A%23e8f5e8%2Cstroke%3A%231b5e20%0A%20%20%20%20classDef%20integrationLayer%20fill%3A%23fff3e0%2Cstroke%3A%23e65100%0A%20%20%20%20classDef%20outputLayer%20fill%3A%23f3e5f5%2Cstroke%3A%234a148c%0A%20%20%20%20classDef%20storageLayer%20fill%3A%23fce4ec%2Cstroke%3A%23880e4f%0A%20%20%20%20%0A%20%20%20%20class%20UserInput%2CSlashCmd%2CFileUpload%20inputLayer%0A%20%20%20%20class%20InputParser%2CContextBuilder%2CPromptEngine%2CToolRegistry%20processingLayer%0A%20%20%20%20class%20FileRead%2CWebSearch%2CMCPClient%2CImageGen%20integrationLayer%0A%20%20%20%20class%20ResponseFormatter%2CStreamRenderer%2CUIDisplay%20outputLayer%0A%20%20%20%20class%20ConfigFiles%2CCacheData%2CUserSettings%2CSessionData%20storageLayer%0A"})]),fallback:a(()=>e[0]||(e[0]=[A(" Loading... ")])),_:1})),e[7]||(e[7]=E("h2",{id:"_2-提示词处理数据流-prompt-processing-data-flow",tabindex:"-1"},[A("2. 提示词处理数据流 (Prompt Processing Data Flow) "),E("a",{class:"header-anchor",href:"#_2-提示词处理数据流-prompt-processing-data-flow","aria-label":'Permalink to "2. 提示词处理数据流 (Prompt Processing Data Flow)"'},"​")],-1)),(r(),t(n,null,{default:a(()=>[l(o,{id:"mermaid-10",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20%22Input_Processing%20%5B%E8%BE%93%E5%85%A5%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20UserQuery%5BUser%20Query%20%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%5D%0A%20%20%20%20%20%20%20%20SystemPrompt%5BSystem%20Prompt%20%E7%B3%BB%E7%BB%9F%E6%8F%90%E7%A4%BA%E8%AF%8D%5D%0A%20%20%20%20%20%20%20%20ContextInfo%5BContext%20Info%20%E4%B8%8A%E4%B8%8B%E6%96%87%E4%BF%A1%E6%81%AF%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Prompt_Construction%20%5B%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%9E%84%E5%BB%BA%5D%22%0A%20%20%20%20%20%20%20%20PromptBuilder%5BPrompt%20Builder%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%9E%84%E5%BB%BA%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20ToolDefs%5BTool%20Definitions%20%E5%B7%A5%E5%85%B7%E5%AE%9A%E4%B9%89%5D%0A%20%20%20%20%20%20%20%20HistoryContext%5BHistory%20Context%20%E5%8E%86%E5%8F%B2%E4%B8%8A%E4%B8%8B%E6%96%87%5D%0A%20%20%20%20%20%20%20%20MemoryContext%5BMemory%20Context%20%E8%AE%B0%E5%BF%86%E4%B8%8A%E4%B8%8B%E6%96%87%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22AI_Processing%20%5BAI%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20TokenCount%5BToken%20Count%20%E4%BB%A4%E7%89%8C%E8%AE%A1%E7%AE%97%5D%0A%20%20%20%20%20%20%20%20APIRequest%5BAPI%20Request%20API%E8%AF%B7%E6%B1%82%5D%0A%20%20%20%20%20%20%20%20Response%5BAI%20Response%20AI%E5%93%8D%E5%BA%94%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Response_Parsing%20%5B%E5%93%8D%E5%BA%94%E8%A7%A3%E6%9E%90%5D%22%0A%20%20%20%20%20%20%20%20ContentParser%5BContent%20Parser%20%E5%86%85%E5%AE%B9%E8%A7%A3%E6%9E%90%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20ToolCallExtractor%5BTool%20Call%20Extractor%20%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%E6%8F%90%E5%8F%96%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20TextContent%5BText%20Content%20%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%5D%0A%20%20%20%20%20%20%20%20ToolCalls%5BTool%20Calls%20%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%5D%0A%20%20%20%20end%0A%0A%20%20%20%20UserQuery%20--%3E%20PromptBuilder%0A%20%20%20%20SystemPrompt%20--%3E%20PromptBuilder%0A%20%20%20%20ContextInfo%20--%3E%20PromptBuilder%0A%20%20%20%20ToolDefs%20--%3E%20PromptBuilder%0A%20%20%20%20HistoryContext%20--%3E%20PromptBuilder%0A%20%20%20%20MemoryContext%20--%3E%20PromptBuilder%0A%20%20%20%20%0A%20%20%20%20PromptBuilder%20--%3E%20TokenCount%0A%20%20%20%20TokenCount%20--%3E%20APIRequest%0A%20%20%20%20APIRequest%20--%3E%20Response%0A%20%20%20%20%0A%20%20%20%20Response%20--%3E%20ContentParser%0A%20%20%20%20ContentParser%20--%3E%20ToolCallExtractor%0A%20%20%20%20ToolCallExtractor%20--%3E%20TextContent%0A%20%20%20%20ToolCallExtractor%20--%3E%20ToolCalls%0A"})]),fallback:a(()=>e[1]||(e[1]=[A(" Loading... ")])),_:1})),e[8]||(e[8]=E("h2",{id:"_3-工具执行数据流-tool-execution-data-flow",tabindex:"-1"},[A("3. 工具执行数据流 (Tool Execution Data Flow) "),E("a",{class:"header-anchor",href:"#_3-工具执行数据流-tool-execution-data-flow","aria-label":'Permalink to "3. 工具执行数据流 (Tool Execution Data Flow)"'},"​")],-1)),(r(),t(n,null,{default:a(()=>[l(o,{id:"mermaid-14",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20subgraph%20%22Tool_Call_Processing%20%5B%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20ToolCall%5BTool%20Call%20%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%5D%0A%20%20%20%20%20%20%20%20Validation%5BParameter%20Validation%20%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81%5D%0A%20%20%20%20%20%20%20%20Permission%5BPermission%20Check%20%E6%9D%83%E9%99%90%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20%20%20%20%20Confirmation%5BUser%20Confirmation%20%E7%94%A8%E6%88%B7%E7%A1%AE%E8%AE%A4%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Tool_Execution%20%5B%E5%B7%A5%E5%85%B7%E6%89%A7%E8%A1%8C%5D%22%0A%20%20%20%20%20%20%20%20ReadTool%5BRead%20Tool%20%E8%AF%BB%E5%8F%96%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20%20%20%20%20WriteTool%5BWrite%20Tool%20%E5%86%99%E5%85%A5%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20%20%20%20%20ShellTool%5BShell%20Tool%20Shell%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20%20%20%20%20SearchTool%5BSearch%20Tool%20%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20%20%20%20%20MCPTool%5BMCP%20Tool%20MCP%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Data_Sources%20%5B%E6%95%B0%E6%8D%AE%E6%BA%90%5D%22%0A%20%20%20%20%20%20%20%20LocalFiles%5BLocal%20Files%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20RemoteAPIs%5BRemote%20APIs%20%E8%BF%9C%E7%A8%8BAPI%5D%0A%20%20%20%20%20%20%20%20SystemCmds%5BSystem%20Commands%20%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%5D%0A%20%20%20%20%20%20%20%20MCPServers%5BMCP%20Servers%20MCP%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Result_Processing%20%5B%E7%BB%93%E6%9E%9C%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20DataTransform%5BData%20Transform%20%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%5D%0A%20%20%20%20%20%20%20%20ErrorHandling%5BError%20Handling%20%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%5D%0A%20%20%20%20%20%20%20%20ResultFormat%5BResult%20Format%20%E7%BB%93%E6%9E%9C%E6%A0%BC%E5%BC%8F%E5%8C%96%5D%0A%20%20%20%20%20%20%20%20CacheUpdate%5BCache%20Update%20%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%5D%0A%20%20%20%20end%0A%0A%20%20%20%20ToolCall%20--%3E%20Validation%0A%20%20%20%20Validation%20--%3E%20Permission%0A%20%20%20%20Permission%20--%3E%20Confirmation%0A%20%20%20%20%0A%20%20%20%20Confirmation%20--%3E%20ReadTool%0A%20%20%20%20Confirmation%20--%3E%20WriteTool%0A%20%20%20%20Confirmation%20--%3E%20ShellTool%0A%20%20%20%20Confirmation%20--%3E%20SearchTool%0A%20%20%20%20Confirmation%20--%3E%20MCPTool%0A%20%20%20%20%0A%20%20%20%20ReadTool%20--%3E%20LocalFiles%0A%20%20%20%20WriteTool%20--%3E%20LocalFiles%0A%20%20%20%20ShellTool%20--%3E%20SystemCmds%0A%20%20%20%20SearchTool%20--%3E%20RemoteAPIs%0A%20%20%20%20MCPTool%20--%3E%20MCPServers%0A%20%20%20%20%0A%20%20%20%20LocalFiles%20--%3E%20DataTransform%0A%20%20%20%20RemoteAPIs%20--%3E%20DataTransform%0A%20%20%20%20SystemCmds%20--%3E%20DataTransform%0A%20%20%20%20MCPServers%20--%3E%20DataTransform%0A%20%20%20%20%0A%20%20%20%20DataTransform%20--%3E%20ErrorHandling%0A%20%20%20%20ErrorHandling%20--%3E%20ResultFormat%0A%20%20%20%20ResultFormat%20--%3E%20CacheUpdate%0A"})]),fallback:a(()=>e[2]||(e[2]=[A(" Loading... ")])),_:1})),e[9]||(e[9]=E("h2",{id:"_4-文件系统数据流-file-system-data-flow",tabindex:"-1"},[A("4. 文件系统数据流 (File System Data Flow) "),E("a",{class:"header-anchor",href:"#_4-文件系统数据流-file-system-data-flow","aria-label":'Permalink to "4. 文件系统数据流 (File System Data Flow)"'},"​")],-1)),(r(),t(n,null,{default:a(()=>[l(o,{id:"mermaid-18",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20%22File_Discovery%20%5B%E6%96%87%E4%BB%B6%E5%8F%91%E7%8E%B0%5D%22%0A%20%20%20%20%20%20%20%20ScanDir%5BDirectory%20Scan%20%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%5D%0A%20%20%20%20%20%20%20%20GitIgnore%5BGitIgnore%20Filter%20gitignore%E8%BF%87%E6%BB%A4%5D%0A%20%20%20%20%20%20%20%20FilePattern%5BFile%20Pattern%20Match%20%E6%96%87%E4%BB%B6%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%5D%0A%20%20%20%20%20%20%20%20FileList%5BFile%20List%20%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22File_Operations%20%5B%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%5D%22%0A%20%20%20%20%20%20%20%20ReadOp%5BRead%20Operation%20%E8%AF%BB%E5%8F%96%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20%20%20%20%20WriteOp%5BWrite%20Operation%20%E5%86%99%E5%85%A5%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20%20%20%20%20EditOp%5BEdit%20Operation%20%E7%BC%96%E8%BE%91%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20%20%20%20%20SearchOp%5BSearch%20Operation%20%E6%90%9C%E7%B4%A2%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Content_Processing%20%5B%E5%86%85%E5%AE%B9%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20ContentParse%5BContent%20Parse%20%E5%86%85%E5%AE%B9%E8%A7%A3%E6%9E%90%5D%0A%20%20%20%20%20%20%20%20SyntaxHL%5BSyntax%20Highlight%20%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%5D%0A%20%20%20%20%20%20%20%20DiffGen%5BDiff%20Generation%20%E5%B7%AE%E5%BC%82%E7%94%9F%E6%88%90%5D%0A%20%20%20%20%20%20%20%20ContentCache%5BContent%20Cache%20%E5%86%85%E5%AE%B9%E7%BC%93%E5%AD%98%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Output_Format%20%5B%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%5D%22%0A%20%20%20%20%20%20%20%20MarkdownOut%5BMarkdown%20Output%20Markdown%E8%BE%93%E5%87%BA%5D%0A%20%20%20%20%20%20%20%20JSONOut%5BJSON%20Output%20JSON%E8%BE%93%E5%87%BA%5D%0A%20%20%20%20%20%20%20%20PlainText%5BPlain%20Text%20Output%20%E7%BA%AF%E6%96%87%E6%9C%AC%E8%BE%93%E5%87%BA%5D%0A%20%20%20%20end%0A%0A%20%20%20%20ScanDir%20--%3E%20GitIgnore%0A%20%20%20%20GitIgnore%20--%3E%20FilePattern%0A%20%20%20%20FilePattern%20--%3E%20FileList%0A%20%20%20%20%0A%20%20%20%20FileList%20--%3E%20ReadOp%0A%20%20%20%20FileList%20--%3E%20WriteOp%0A%20%20%20%20FileList%20--%3E%20EditOp%0A%20%20%20%20FileList%20--%3E%20SearchOp%0A%20%20%20%20%0A%20%20%20%20ReadOp%20--%3E%20ContentParse%0A%20%20%20%20WriteOp%20--%3E%20ContentParse%0A%20%20%20%20EditOp%20--%3E%20DiffGen%0A%20%20%20%20SearchOp%20--%3E%20ContentParse%0A%20%20%20%20%0A%20%20%20%20ContentParse%20--%3E%20SyntaxHL%0A%20%20%20%20ContentParse%20--%3E%20ContentCache%0A%20%20%20%20DiffGen%20--%3E%20ContentCache%0A%20%20%20%20%0A%20%20%20%20SyntaxHL%20--%3E%20MarkdownOut%0A%20%20%20%20ContentCache%20--%3E%20JSONOut%0A%20%20%20%20ContentCache%20--%3E%20PlainText%0A"})]),fallback:a(()=>e[3]||(e[3]=[A(" Loading... ")])),_:1})),e[10]||(e[10]=E("h2",{id:"_5-mcp集成数据流-mcp-integration-data-flow",tabindex:"-1"},[A("5. MCP集成数据流 (MCP Integration Data Flow) "),E("a",{class:"header-anchor",href:"#_5-mcp集成数据流-mcp-integration-data-flow","aria-label":'Permalink to "5. MCP集成数据流 (MCP Integration Data Flow)"'},"​")],-1)),(r(),t(n,null,{default:a(()=>[l(o,{id:"mermaid-22",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20%22MCP_Client_Layer%20%5BMCP%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%B1%82%5D%22%0A%20%20%20%20%20%20%20%20MCPClient%5BMCP%20Client%20MCP%E5%AE%A2%E6%88%B7%E7%AB%AF%5D%0A%20%20%20%20%20%20%20%20ServerDiscovery%5BServer%20Discovery%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E7%8E%B0%5D%0A%20%20%20%20%20%20%20%20ConnectionMgr%5BConnection%20Manager%20%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22MCP_Servers%20%5BMCP%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%22%0A%20%20%20%20%20%20%20%20ImagenServer%5BImagen%20Server%20%E5%9B%BE%E5%83%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20VeoServer%5BVeo%20Server%20%E8%A7%86%E9%A2%91%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20CustomServer%5BCustom%20Server%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1%E5%99%A8%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Tool_Adaptation%20%5B%E5%B7%A5%E5%85%B7%E9%80%82%E9%85%8D%5D%22%0A%20%20%20%20%20%20%20%20ToolWrapper%5BTool%20Wrapper%20%E5%B7%A5%E5%85%B7%E5%8C%85%E8%A3%85%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20ParamTransform%5BParameter%20Transform%20%E5%8F%82%E6%95%B0%E8%BD%AC%E6%8D%A2%5D%0A%20%20%20%20%20%20%20%20ResultTransform%5BResult%20Transform%20%E7%BB%93%E6%9E%9C%E8%BD%AC%E6%8D%A2%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Media_Processing%20%5B%E5%AA%92%E4%BD%93%E5%A4%84%E7%90%86%5D%22%0A%20%20%20%20%20%20%20%20ImageProcess%5BImage%20Processing%20%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%5D%0A%20%20%20%20%20%20%20%20VideoProcess%5BVideo%20Processing%20%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%5D%0A%20%20%20%20%20%20%20%20AudioProcess%5BAudio%20Processing%20%E9%9F%B3%E9%A2%91%E5%A4%84%E7%90%86%5D%0A%20%20%20%20end%0A%0A%20%20%20%20MCPClient%20--%3E%20ServerDiscovery%0A%20%20%20%20ServerDiscovery%20--%3E%20ConnectionMgr%0A%20%20%20%20ConnectionMgr%20--%3E%20ImagenServer%0A%20%20%20%20ConnectionMgr%20--%3E%20VeoServer%0A%20%20%20%20ConnectionMgr%20--%3E%20CustomServer%0A%20%20%20%20%0A%20%20%20%20ImagenServer%20--%3E%20ToolWrapper%0A%20%20%20%20VeoServer%20--%3E%20ToolWrapper%0A%20%20%20%20CustomServer%20--%3E%20ToolWrapper%0A%20%20%20%20%0A%20%20%20%20ToolWrapper%20--%3E%20ParamTransform%0A%20%20%20%20ParamTransform%20--%3E%20ImageProcess%0A%20%20%20%20ParamTransform%20--%3E%20VideoProcess%0A%20%20%20%20ParamTransform%20--%3E%20AudioProcess%0A%20%20%20%20%0A%20%20%20%20ImageProcess%20--%3E%20ResultTransform%0A%20%20%20%20VideoProcess%20--%3E%20ResultTransform%0A%20%20%20%20AudioProcess%20--%3E%20ResultTransform%0A"})]),fallback:a(()=>e[4]||(e[4]=[A(" Loading... ")])),_:1})),e[11]||(e[11]=C('<h2 id="数据流特点说明" tabindex="-1">数据流特点说明 <a class="header-anchor" href="#数据流特点说明" aria-label="Permalink to &quot;数据流特点说明&quot;">​</a></h2><h3 id="_1-异步处理" tabindex="-1">1. 异步处理 <a class="header-anchor" href="#_1-异步处理" aria-label="Permalink to &quot;1. 异步处理&quot;">​</a></h3><ul><li>支持流式响应和实时更新</li><li>工具执行采用异步模式</li><li>支持长时间运行的任务</li></ul><h3 id="_2-错误处理" tabindex="-1">2. 错误处理 <a class="header-anchor" href="#_2-错误处理" aria-label="Permalink to &quot;2. 错误处理&quot;">​</a></h3><ul><li>多层次错误处理机制</li><li>优雅降级和回退策略</li><li>详细的错误日志和追踪</li></ul><h3 id="_3-缓存策略" tabindex="-1">3. 缓存策略 <a class="header-anchor" href="#_3-缓存策略" aria-label="Permalink to &quot;3. 缓存策略&quot;">​</a></h3><ul><li>智能缓存文件内容</li><li>会话数据持久化</li><li>工具执行结果缓存</li></ul><h3 id="_4-安全控制" tabindex="-1">4. 安全控制 <a class="header-anchor" href="#_4-安全控制" aria-label="Permalink to &quot;4. 安全控制&quot;">​</a></h3><ul><li>工具执行权限检查</li><li>用户确认机制</li><li>沙箱环境隔离</li></ul><h3 id="_5-扩展性" tabindex="-1">5. 扩展性 <a class="header-anchor" href="#_5-扩展性" aria-label="Permalink to &quot;5. 扩展性&quot;">​</a></h3><ul><li>模块化的工具系统</li><li>可插拔的MCP服务</li><li>灵活的配置管理</li></ul><p>这个数据流架构确保了 Gemini CLI 能够高效、安全地处理各种复杂的用户请求，同时提供良好的扩展性和维护性。</p>',12))])}const h=B(D,[["render",d]]);export{g as __pageData,h as default};
