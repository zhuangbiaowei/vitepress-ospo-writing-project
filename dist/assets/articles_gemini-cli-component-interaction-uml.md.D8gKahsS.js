import{_ as l,C as m,c as g,o as a,j as t,b as n,a2 as c,a as o,w as A,G as s,a3 as r}from"./chunks/framework.C73R9DD6.js";const E=JSON.parse('{"title":"Gemini CLI 组件交互 UML 图","description":"","frontmatter":{},"headers":[],"relativePath":"articles/gemini-cli-component-interaction-uml.md","filePath":"articles/gemini-cli-component-interaction-uml.md","lastUpdated":1752127554000}'),d={name:"articles/gemini-cli-component-interaction-uml.md"};function B(C,e,u,T,p,h){const i=m("Mermaid");return a(),g("div",null,[e[5]||(e[5]=t("h1",{id:"gemini-cli-组件交互-uml-图",tabindex:"-1"},[o("Gemini CLI 组件交互 UML 图 "),t("a",{class:"header-anchor",href:"#gemini-cli-组件交互-uml-图","aria-label":'Permalink to "Gemini CLI 组件交互 UML 图"'},"​")],-1)),e[6]||(e[6]=t("h2",{id:"_1-核心类图-core-class-diagram",tabindex:"-1"},[o("1. 核心类图 (Core Class Diagram) "),t("a",{class:"header-anchor",href:"#_1-核心类图-core-class-diagram","aria-label":'Permalink to "1. 核心类图 (Core Class Diagram)"'},"​")],-1)),(a(),n(r,null,{default:A(()=>[s(i,{id:"mermaid-6",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20Config%20%7B%0A%20%20%20%20%20%20%20%20-toolRegistry%3A%20ToolRegistry%0A%20%20%20%20%20%20%20%20-sessionId%3A%20string%0A%20%20%20%20%20%20%20%20-contentGeneratorConfig%3A%20ContentGeneratorConfig%0A%20%20%20%20%20%20%20%20-embeddingModel%3A%20string%0A%20%20%20%20%20%20%20%20%2Binitialize()%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2BgetGeminiClient()%3A%20GeminiClient%0A%20%20%20%20%20%20%20%20%2BgetToolRegistry()%3A%20ToolRegistry%0A%20%20%20%20%20%20%20%20%2BgetApprovalMode()%3A%20ApprovalMode%0A%20%20%20%20%20%20%20%20%2BgetSandbox()%3A%20SandboxConfig%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20GeminiClient%20%7B%0A%20%20%20%20%20%20%20%20-config%3A%20Config%0A%20%20%20%20%20%20%20%20-authType%3A%20AuthType%0A%20%20%20%20%20%20%20%20%2BgenerateContent(contents%3A%20Content%5B%5D%2C%20config%3A%20GenerateContentConfig)%3A%20Promise~GenerateContentResponse~%0A%20%20%20%20%20%20%20%20%2Bauthenticate()%3A%20Promise~void~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20GeminiChat%20%7B%0A%20%20%20%20%20%20%20%20-config%3A%20Config%0A%20%20%20%20%20%20%20%20-contentGenerator%3A%20ContentGenerator%0A%20%20%20%20%20%20%20%20-history%3A%20Content%5B%5D%0A%20%20%20%20%20%20%20%20-sendPromise%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2BsendMessage(message%3A%20string)%3A%20Promise~GenerateContentResponse~%0A%20%20%20%20%20%20%20%20%2BgetHistory()%3A%20Content%5B%5D%0A%20%20%20%20%20%20%20%20%2BextractCuratedHistory()%3A%20Content%5B%5D%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ContentGenerator%20%7B%0A%20%20%20%20%20%20%20%20-client%3A%20GeminiClient%0A%20%20%20%20%20%20%20%20-config%3A%20ContentGeneratorConfig%0A%20%20%20%20%20%20%20%20%2BgenerateContent(request%3A%20GenerateContentRequest)%3A%20Promise~GenerateContentResponse~%0A%20%20%20%20%20%20%20%20%2BhandleToolCalls(tools%3A%20ToolCall%5B%5D)%3A%20Promise~ToolResult%5B%5D~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ToolRegistry%20%7B%0A%20%20%20%20%20%20%20%20-tools%3A%20Map~string%2C%20Tool~%0A%20%20%20%20%20%20%20%20-mcpTools%3A%20DiscoveredMCPTool%5B%5D%0A%20%20%20%20%20%20%20%20%2BregisterTool(tool%3A%20Tool)%3A%20void%0A%20%20%20%20%20%20%20%20%2BgetTool(name%3A%20string)%3A%20Tool%0A%20%20%20%20%20%20%20%20%2BexecuteTools(toolCalls%3A%20ToolCall%5B%5D)%3A%20Promise~ToolResult%5B%5D~%0A%20%20%20%20%20%20%20%20%2BdiscoverMcpTools()%3A%20Promise~void~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20BaseTool%20%7B%0A%20%20%20%20%20%20%20%20%3C%3Cabstract%3E%3E%0A%20%20%20%20%20%20%20%20%2Bname%3A%20string%0A%20%20%20%20%20%20%20%20%2BdisplayName%3A%20string%0A%20%20%20%20%20%20%20%20%2Bdescription%3A%20string%0A%20%20%20%20%20%20%20%20%2Bschema%3A%20FunctionDeclaration%0A%20%20%20%20%20%20%20%20%2BvalidateToolParams(params%3A%20any)%3A%20string%7Cnull%0A%20%20%20%20%20%20%20%20%2BshouldConfirmExecute(params%3A%20any)%3A%20Promise~boolean~%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20any%2C%20signal%3A%20AbortSignal)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ReadFileTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20ReadFileParams)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20WriteFileTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20WriteFileParams)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20EditTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20EditParams)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ShellTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20ShellParams)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20WebSearchTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20WebSearchParams)%3A%20Promise~WebSearchToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20MCPClient%20%7B%0A%20%20%20%20%20%20%20%20-servers%3A%20Map~string%2C%20MCPServerConfig~%0A%20%20%20%20%20%20%20%20-clients%3A%20Map~string%2C%20Client~%0A%20%20%20%20%20%20%20%20%2BconnectAndDiscover(serverName%3A%20string)%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2BexecuteToolCall(toolCall%3A%20ToolCall)%3A%20Promise~ToolResult~%0A%20%20%20%20%20%20%20%20%2BdiscoverMcpTools()%3A%20Promise~DiscoveredMCPTool%5B%5D~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20App%20%7B%0A%20%20%20%20%20%20%20%20-config%3A%20Config%0A%20%20%20%20%20%20%20%20-settings%3A%20LoadedSettings%0A%20%20%20%20%20%20%20%20-history%3A%20HistoryItem%5B%5D%0A%20%20%20%20%20%20%20%20%2BhandleUserInput(input%3A%20string)%3A%20void%0A%20%20%20%20%20%20%20%20%2BprocessSlashCommand(command%3A%20string)%3A%20void%0A%20%20%20%20%20%20%20%20%2BdisplayResponse(response%3A%20string)%3A%20void%0A%20%20%20%20%7D%0A%0A%20%20%20%20%25%25%20%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%0A%20%20%20%20BaseTool%20%3C%7C--%20ReadFileTool%0A%20%20%20%20BaseTool%20%3C%7C--%20WriteFileTool%0A%20%20%20%20BaseTool%20%3C%7C--%20EditTool%0A%20%20%20%20BaseTool%20%3C%7C--%20ShellTool%0A%20%20%20%20BaseTool%20%3C%7C--%20WebSearchTool%0A%0A%20%20%20%20%25%25%20%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%0A%20%20%20%20Config%20--%3E%20ToolRegistry%0A%20%20%20%20Config%20--%3E%20GeminiClient%0A%20%20%20%20GeminiChat%20--%3E%20ContentGenerator%0A%20%20%20%20GeminiChat%20--%3E%20Config%0A%20%20%20%20ContentGenerator%20--%3E%20GeminiClient%0A%20%20%20%20ContentGenerator%20--%3E%20ToolRegistry%0A%20%20%20%20ToolRegistry%20--%3E%20BaseTool%0A%20%20%20%20ToolRegistry%20--%3E%20MCPClient%0A%20%20%20%20App%20--%3E%20Config%0A%20%20%20%20App%20--%3E%20GeminiChat%0A"})]),fallback:A(()=>e[0]||(e[0]=[o(" Loading... ")])),_:1})),e[7]||(e[7]=t("h2",{id:"_2-工具系统交互图-tool-system-interaction",tabindex:"-1"},[o("2. 工具系统交互图 (Tool System Interaction) "),t("a",{class:"header-anchor",href:"#_2-工具系统交互图-tool-system-interaction","aria-label":'Permalink to "2. 工具系统交互图 (Tool System Interaction)"'},"​")],-1)),(a(),n(r,null,{default:A(()=>[s(i,{id:"mermaid-10",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20ToolCall%20%7B%0A%20%20%20%20%20%20%20%20%2Bname%3A%20string%0A%20%20%20%20%20%20%20%20%2Bargs%3A%20Record~string%2C%20any~%0A%20%20%20%20%20%20%20%20%2Bid%3A%20string%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ToolResult%20%7B%0A%20%20%20%20%20%20%20%20%2BllmContent%3A%20string%0A%20%20%20%20%20%20%20%20%2BreturnDisplay%3A%20string%0A%20%20%20%20%20%20%20%20%2BtoolCallId%3F%3A%20string%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ToolCallConfirmationDetails%20%7B%0A%20%20%20%20%20%20%20%20%2BconfirmationMessage%3A%20string%0A%20%20%20%20%20%20%20%20%2BconfirmationPrompt%3A%20string%0A%20%20%20%20%20%20%20%20%2BrequiresConfirmation%3A%20boolean%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ToolExecutor%20%7B%0A%20%20%20%20%20%20%20%20-toolRegistry%3A%20ToolRegistry%0A%20%20%20%20%20%20%20%20-approvalMode%3A%20ApprovalMode%0A%20%20%20%20%20%20%20%20%2BexecuteToolCalls(toolCalls%3A%20ToolCall%5B%5D)%3A%20Promise~ToolResult%5B%5D~%0A%20%20%20%20%20%20%20%20%2BconfirmExecution(tool%3A%20Tool%2C%20params%3A%20any)%3A%20Promise~boolean~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ModifiableTool%20%7B%0A%20%20%20%20%20%20%20%20%3C%3Cinterface%3E%3E%0A%20%20%20%20%20%20%20%20%2BisModifying%3A%20boolean%0A%20%20%20%20%20%20%20%20%2BrequiresConfirmation()%3A%20boolean%0A%20%20%20%20%7D%0A%0A%20%20%20%20%25%25%20%E5%85%B3%E7%B3%BB%0A%20%20%20%20ToolExecutor%20--%3E%20ToolRegistry%0A%20%20%20%20ToolExecutor%20--%3E%20ToolCall%0A%20%20%20%20ToolExecutor%20--%3E%20ToolResult%0A%20%20%20%20BaseTool%20--%3E%20ToolCallConfirmationDetails%0A%20%20%20%20ModifiableTool%20%3C%7C..%20EditTool%0A%20%20%20%20ModifiableTool%20%3C%7C..%20WriteFileTool%0A%20%20%20%20ModifiableTool%20%3C%7C..%20ShellTool%0A"})]),fallback:A(()=>e[1]||(e[1]=[o(" Loading... ")])),_:1})),e[8]||(e[8]=t("h2",{id:"_3-认证系统类图-authentication-system",tabindex:"-1"},[o("3. 认证系统类图 (Authentication System) "),t("a",{class:"header-anchor",href:"#_3-认证系统类图-authentication-system","aria-label":'Permalink to "3. 认证系统类图 (Authentication System)"'},"​")],-1)),(a(),n(r,null,{default:A(()=>[s(i,{id:"mermaid-14",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20AuthType%20%7B%0A%20%20%20%20%20%20%20%20%3C%3Cenumeration%3E%3E%0A%20%20%20%20%20%20%20%20LOGIN_WITH_GOOGLE%0A%20%20%20%20%20%20%20%20USE_GEMINI%0A%20%20%20%20%20%20%20%20USE_VERTEX_AI%0A%20%20%20%20%20%20%20%20CLOUD_SHELL%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20OAuth2Handler%20%7B%0A%20%20%20%20%20%20%20%20-clientId%3A%20string%0A%20%20%20%20%20%20%20%20-clientSecret%3A%20string%0A%20%20%20%20%20%20%20%20-redirectUri%3A%20string%0A%20%20%20%20%20%20%20%20%2Bauthenticate()%3A%20Promise~AccessToken~%0A%20%20%20%20%20%20%20%20%2BrefreshToken(refreshToken%3A%20string)%3A%20Promise~AccessToken~%0A%20%20%20%20%20%20%20%20%2BgetAuthUrl()%3A%20string%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20APIKeyAuth%20%7B%0A%20%20%20%20%20%20%20%20-apiKey%3A%20string%0A%20%20%20%20%20%20%20%20%2Bvalidate()%3A%20boolean%0A%20%20%20%20%20%20%20%20%2BgetHeaders()%3A%20Record~string%2C%20string~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20VertexAIAuth%20%7B%0A%20%20%20%20%20%20%20%20-projectId%3A%20string%0A%20%20%20%20%20%20%20%20-location%3A%20string%0A%20%20%20%20%20%20%20%20-credentials%3A%20ServiceAccountCredentials%0A%20%20%20%20%20%20%20%20%2Bauthenticate()%3A%20Promise~AccessToken~%0A%20%20%20%20%20%20%20%20%2BgetClient()%3A%20VertexAIClient%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20AuthManager%20%7B%0A%20%20%20%20%20%20%20%20-authType%3A%20AuthType%0A%20%20%20%20%20%20%20%20-oauth2Handler%3A%20OAuth2Handler%0A%20%20%20%20%20%20%20%20-apiKeyAuth%3A%20APIKeyAuth%0A%20%20%20%20%20%20%20%20-vertexAuth%3A%20VertexAIAuth%0A%20%20%20%20%20%20%20%20%2Bauthenticate()%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2BvalidateAuthMethod(authType%3A%20string)%3A%20string%7Cnull%0A%20%20%20%20%20%20%20%20%2BgetAuthenticatedClient()%3A%20GeminiClient%0A%20%20%20%20%7D%0A%0A%20%20%20%20%25%25%20%E5%85%B3%E7%B3%BB%0A%20%20%20%20AuthManager%20--%3E%20AuthType%0A%20%20%20%20AuthManager%20--%3E%20OAuth2Handler%0A%20%20%20%20AuthManager%20--%3E%20APIKeyAuth%0A%20%20%20%20AuthManager%20--%3E%20VertexAIAuth%0A%20%20%20%20GeminiClient%20--%3E%20AuthManager%0A"})]),fallback:A(()=>e[2]||(e[2]=[o(" Loading... ")])),_:1})),e[9]||(e[9]=t("h2",{id:"_4-mcp-集成系统-mcp-integration-system",tabindex:"-1"},[o("4. MCP 集成系统 (MCP Integration System) "),t("a",{class:"header-anchor",href:"#_4-mcp-集成系统-mcp-integration-system","aria-label":'Permalink to "4. MCP 集成系统 (MCP Integration System)"'},"​")],-1)),(a(),n(r,null,{default:A(()=>[s(i,{id:"mermaid-18",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20MCPServerConfig%20%7B%0A%20%20%20%20%20%20%20%20%2Bcommand%3F%3A%20string%0A%20%20%20%20%20%20%20%20%2Bargs%3F%3A%20string%5B%5D%0A%20%20%20%20%20%20%20%20%2Burl%3F%3A%20string%0A%20%20%20%20%20%20%20%20%2BhttpUrl%3F%3A%20string%0A%20%20%20%20%20%20%20%20%2Btimeout%3F%3A%20number%0A%20%20%20%20%20%20%20%20%2Btrust%3F%3A%20boolean%0A%20%20%20%20%20%20%20%20%2BincludeTools%3F%3A%20string%5B%5D%0A%20%20%20%20%20%20%20%20%2BexcludeTools%3F%3A%20string%5B%5D%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20MCPServerStatus%20%7B%0A%20%20%20%20%20%20%20%20%3C%3Cenumeration%3E%3E%0A%20%20%20%20%20%20%20%20DISCONNECTED%0A%20%20%20%20%20%20%20%20CONNECTING%0A%20%20%20%20%20%20%20%20CONNECTED%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20DiscoveredMCPTool%20%7B%0A%20%20%20%20%20%20%20%20%2Bname%3A%20string%0A%20%20%20%20%20%20%20%20%2Bdescription%3A%20string%0A%20%20%20%20%20%20%20%20%2Bschema%3A%20FunctionDeclaration%0A%20%20%20%20%20%20%20%20%2BserverName%3A%20string%0A%20%20%20%20%20%20%20%20%2Bexecute(params%3A%20any)%3A%20Promise~ToolResult~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20MCPTransport%20%7B%0A%20%20%20%20%20%20%20%20%3C%3Cinterface%3E%3E%0A%20%20%20%20%20%20%20%20%2Bconnect()%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2Bdisconnect()%3A%20Promise~void~%0A%20%20%20%20%20%20%20%20%2BsendRequest(request%3A%20any)%3A%20Promise~any~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20StdioTransport%20%7B%0A%20%20%20%20%20%20%20%20%2Bcommand%3A%20string%0A%20%20%20%20%20%20%20%20%2Bargs%3A%20string%5B%5D%0A%20%20%20%20%20%20%20%20%2Bconnect()%3A%20Promise~void~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20SSETransport%20%7B%0A%20%20%20%20%20%20%20%20%2Burl%3A%20string%0A%20%20%20%20%20%20%20%20%2Bconnect()%3A%20Promise~void~%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20HTTPTransport%20%7B%0A%20%20%20%20%20%20%20%20%2BhttpUrl%3A%20string%0A%20%20%20%20%20%20%20%20%2Bheaders%3A%20Record~string%2C%20string~%0A%20%20%20%20%20%20%20%20%2Bconnect()%3A%20Promise~void~%0A%20%20%20%20%7D%0A%0A%20%20%20%20%25%25%20%E5%85%B3%E7%B3%BB%0A%20%20%20%20MCPClient%20--%3E%20MCPServerConfig%0A%20%20%20%20MCPClient%20--%3E%20MCPServerStatus%0A%20%20%20%20MCPClient%20--%3E%20DiscoveredMCPTool%0A%20%20%20%20MCPTransport%20%3C%7C..%20StdioTransport%0A%20%20%20%20MCPTransport%20%3C%7C..%20SSETransport%0A%20%20%20%20MCPTransport%20%3C%7C..%20HTTPTransport%0A%20%20%20%20MCPClient%20--%3E%20MCPTransport%0A"})]),fallback:A(()=>e[3]||(e[3]=[o(" Loading... ")])),_:1})),e[10]||(e[10]=t("h2",{id:"_5-用户界面组件关系-ui-component-relations",tabindex:"-1"},[o("5. 用户界面组件关系 (UI Component Relations) "),t("a",{class:"header-anchor",href:"#_5-用户界面组件关系-ui-component-relations","aria-label":'Permalink to "5. 用户界面组件关系 (UI Component Relations)"'},"​")],-1)),(a(),n(r,null,{default:A(()=>[s(i,{id:"mermaid-22",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20App%20%7B%0A%20%20%20%20%20%20%20%20-config%3A%20Config%0A%20%20%20%20%20%20%20%20-settings%3A%20LoadedSettings%0A%20%20%20%20%20%20%20%20-history%3A%20HistoryItem%5B%5D%0A%20%20%20%20%20%20%20%20-streamingState%3A%20StreamingState%0A%20%20%20%20%20%20%20%20%2Brender()%3A%20JSX.Element%0A%20%20%20%20%20%20%20%20%2BhandleUserInput(input%3A%20string)%3A%20void%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20InputPrompt%20%7B%0A%20%20%20%20%20%20%20%20-value%3A%20string%0A%20%20%20%20%20%20%20%20-onSubmit%3A%20(value%3A%20string)%20%3D%3E%20void%0A%20%20%20%20%20%20%20%20-placeholder%3A%20string%0A%20%20%20%20%20%20%20%20%2Brender()%3A%20JSX.Element%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20HistoryItemDisplay%20%7B%0A%20%20%20%20%20%20%20%20-item%3A%20HistoryItem%0A%20%20%20%20%20%20%20%20-showDetails%3A%20boolean%0A%20%20%20%20%20%20%20%20%2Brender()%3A%20JSX.Element%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20LoadingIndicator%20%7B%0A%20%20%20%20%20%20%20%20-isLoading%3A%20boolean%0A%20%20%20%20%20%20%20%20-message%3A%20string%0A%20%20%20%20%20%20%20%20%2Brender()%3A%20JSX.Element%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ThemeManager%20%7B%0A%20%20%20%20%20%20%20%20-themes%3A%20Map~string%2C%20Theme~%0A%20%20%20%20%20%20%20%20-activeTheme%3A%20string%0A%20%20%20%20%20%20%20%20%2BsetActiveTheme(name%3A%20string)%3A%20boolean%0A%20%20%20%20%20%20%20%20%2BgetTheme(name%3A%20string)%3A%20Theme%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20StreamingContext%20%7B%0A%20%20%20%20%20%20%20%20%2BstreamingState%3A%20StreamingState%0A%20%20%20%20%20%20%20%20%2BupdateOutput%3A%20(output%3A%20string)%20%3D%3E%20void%0A%20%20%20%20%20%20%20%20%2BsetStreamingState%3A%20(state%3A%20StreamingState)%20%3D%3E%20void%0A%20%20%20%20%7D%0A%0A%20%20%20%20%25%25%20%E5%85%B3%E7%B3%BB%0A%20%20%20%20App%20--%3E%20InputPrompt%0A%20%20%20%20App%20--%3E%20HistoryItemDisplay%0A%20%20%20%20App%20--%3E%20LoadingIndicator%0A%20%20%20%20App%20--%3E%20ThemeManager%0A%20%20%20%20App%20--%3E%20StreamingContext%0A"})]),fallback:A(()=>e[4]||(e[4]=[o(" Loading... ")])),_:1})),e[11]||(e[11]=c('<h2 id="组件交互说明" tabindex="-1">组件交互说明 <a class="header-anchor" href="#组件交互说明" aria-label="Permalink to &quot;组件交互说明&quot;">​</a></h2><h3 id="_1-核心交互流程" tabindex="-1">1. 核心交互流程 <a class="header-anchor" href="#_1-核心交互流程" aria-label="Permalink to &quot;1. 核心交互流程&quot;">​</a></h3><ul><li><strong>Config</strong> 作为中央配置管理器，协调各个组件</li><li><strong>GeminiChat</strong> 管理与AI的对话状态和历史</li><li><strong>ToolRegistry</strong> 统一管理和调度所有工具</li><li><strong>ContentGenerator</strong> 处理AI内容生成和工具调用</li></ul><h3 id="_2-工具系统设计" tabindex="-1">2. 工具系统设计 <a class="header-anchor" href="#_2-工具系统设计" aria-label="Permalink to &quot;2. 工具系统设计&quot;">​</a></h3><ul><li><strong>BaseTool</strong> 提供统一的工具接口</li><li><strong>ModifiableTool</strong> 标识需要用户确认的工具</li><li><strong>ToolExecutor</strong> 负责工具调用的生命周期管理</li></ul><h3 id="_3-认证系统架构" tabindex="-1">3. 认证系统架构 <a class="header-anchor" href="#_3-认证系统架构" aria-label="Permalink to &quot;3. 认证系统架构&quot;">​</a></h3><ul><li><strong>AuthManager</strong> 统一管理多种认证方式</li><li>支持OAuth2、API密钥、Vertex AI等多种认证</li><li>与GeminiClient紧密集成</li></ul><h3 id="_4-mcp集成特点" tabindex="-1">4. MCP集成特点 <a class="header-anchor" href="#_4-mcp集成特点" aria-label="Permalink to &quot;4. MCP集成特点&quot;">​</a></h3><ul><li>支持多种传输协议（stdio、SSE、HTTP）</li><li>动态发现和注册MCP工具</li><li>状态管理和错误处理</li></ul><h3 id="_5-ui组件架构" tabindex="-1">5. UI组件架构 <a class="header-anchor" href="#_5-ui组件架构" aria-label="Permalink to &quot;5. UI组件架构&quot;">​</a></h3><ul><li>基于React和Ink构建的终端UI</li><li>流式输出和实时更新支持</li><li>主题系统和用户体验优化</li></ul>',11))])}const D=l(d,[["render",B]]);export{E as __pageData,D as default};
